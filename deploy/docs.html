<!DOCTYPE html>
<html>
  
  <head>
    <script type="text/javascript" src="http://use.typekit.com/dfp5tbm.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
    
    <link rel="stylesheet" href="/media/css/style.css" type="text/css" />
    <title>Documentation - Flakey.js - Javascript MVC with Models that Just Work.</title>
  </head>
  <body>
    <div id="header">
      <h1><a href="/">Flakey.js</a></h1>
      <ul>
        <li><a href="/">Home</a></li>
        <li><a href="https://github.com/crgwbr/flakeyjs" target="_blank">GitHub</a></li>
        <li><a href="/docs/">Documentation</a></li>
        <li><a href="/about/">About</a></li>
      </ul>
      <div class="clear"></div>
    </div>
    
    <div id="content">
      
<h1>Working Examples of&nbsp;Flakey.js</h1>
<h3>Notes</h3>
<p>A simple note taking app that stores notes in browser&nbsp;localStorage.</p>
<ul>
<li><a href="http://flakeyjs.crgwbr.com/notes/">Hosted</a></li>
<li><a href="https://github.com/crgwbr/flakeyjs/tree/master/example">Source</a></li>
</ul>
<h1>Flakey.events</h1>
<p>Flakey.js includes a basic event signaling system to allow subscribing to and generating events by means of an Observer-pattern singleton located at Flakey.events. Flakey.js triggers built-in signals for several common events (model updating, etc), but you can also create and trigger your own&nbsp;signals.</p>
<h3>Creating a new&nbsp;event</h3>
<p>In&nbsp;CoffeeScript:</p>
<pre><code>Flakey.events.register 'map_view_updated', (event, namespace, data) -&gt;
  console.log 'The Map View has been updated!'
  console.log data  # Optional arbitrary data passed in by the trigger
</code></pre>
<p>In&nbsp;JavaScript:</p>
<pre><code>Flakey.events.register('map_view_updated', function() {
  console.log('The Map View has been updated!');
  console.log(data); // Optional arbitrary data passed in by the trigger
})
</code></pre>
<p>This will register (subscribe) the given function to the signal called <code>"map_view_updated"</code>.  Whenever that signal is triggered, our function will be called along with any other functions registered to this event. In addition to the signal name, you can optionally supply a namespace for your signal. For example, you may want to namespace all signals specific to your app under the name "my_app". You can do that&nbsp;with:</p>
<p>In&nbsp;CoffeeScript:</p>
<pre><code>our_fn = (event, namespace, data) -&gt;
  console.log 'The Map View has been updated!'
  console.log data  # Optional arbitrary data passed in by the trigger

Flakey.events.register 'map_view_updated', our_fn, 'my_app'
</code></pre>
<p>In&nbsp;JavaScript:</p>
<pre><code>our_fn = function() {
  console.log('The Map View has been updated!');
  console.log(data); // Optional arbitrary data passed in by the trigger
}
Flakey.events.register('map_view_updated', our_fn, 'my_app')
</code></pre>
<h3>Triggering an&nbsp;event</h3>
<p>Triggering an event is even simpler than registering an&nbsp;action.</p>
<pre><code>Flakey.events.trigger('map_view_updated')
</code></pre>
<p>To trigger an event within a&nbsp;namespace:</p>
<pre><code>Flakey.events.trigger('map_view_updated', 'my_app')
</code></pre>
<p>Additionally, you may optionally pass in data to be passed to the listening functions like&nbsp;so:</p>
<pre><code>Flakey.events.trigger('map_view_updated', 'my_app', {id: 42})
</code></pre>
<h3>Destroying a&nbsp;namespace</h3>
<p>If you wish, its possible to completely wipe the slate clean for a namespace, removing all listening functions.  You can do that by&nbsp;calling:</p>
<pre><code>Flakey.events.clear('my_app')
</code></pre>
<p>It's doubtful you'l ever need to do this, but the ability exists if you ever&nbsp;do.</p>
<h3>Flakey built in&nbsp;events</h3>
<p>These common events are built into the default ("flakey")&nbsp;namespace.</p>
<ul>
<li><code>model_foo_updated</code> - foo is replaced by the model's name in lowercase (e.g. <code>model_note_updated</code>). Called when an instance of the model is saved, passes the instance through in&nbsp;data.</li>
</ul>

    </div>
    
    <div id="footer">
      <ul>
        <li><a href="/">Home</a></li>
        <li><a href="https://github.com/crgwbr/flakeyjs" target="_blank">GitHub</a></li>
        <li><a href="/docs/">Documentation</a></li>
        <li><a href="/about/">About</a></li>
      </ul>
    </div>
    
    <script type="text/javascript">
    
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-6265150-12']);
      _gaq.push(['_trackPageview']);
    
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    
    </script>
  </body>
  
</html>